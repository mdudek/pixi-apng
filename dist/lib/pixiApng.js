!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("pixi.js")):"function"==typeof define&&define.amd?define(["pixi.js"],e):"object"==typeof exports?exports.pixiApng=e(require("pixi.js")):t.pixiApng=e(t["pixi.js"])}(self,(t=>(()=>{"use strict";var e={"./node_modules/pako/index.js":
/*!************************************!*\
  !*** ./node_modules/pako/index.js ***!
  \************************************/(t,e,i)=>{const{Deflate:r,deflate:s,deflateRaw:a,gzip:n}=i(/*! ./lib/deflate */"./node_modules/pako/lib/deflate.js"),{Inflate:l,inflate:o,inflateRaw:d,ungzip:h}=i(/*! ./lib/inflate */"./node_modules/pako/lib/inflate.js"),f=i(/*! ./lib/zlib/constants */"./node_modules/pako/lib/zlib/constants.js");t.exports.Deflate=r,t.exports.deflate=s,t.exports.deflateRaw=a,t.exports.gzip=n,t.exports.Inflate=l,t.exports.inflate=o,t.exports.inflateRaw=d,t.exports.ungzip=h,t.exports.constants=f},"./node_modules/pako/lib/deflate.js":
/*!******************************************!*\
  !*** ./node_modules/pako/lib/deflate.js ***!
  \******************************************/(t,e,i)=>{const r=i(/*! ./zlib/deflate */"./node_modules/pako/lib/zlib/deflate.js"),s=i(/*! ./utils/common */"./node_modules/pako/lib/utils/common.js"),a=i(/*! ./utils/strings */"./node_modules/pako/lib/utils/strings.js"),n=i(/*! ./zlib/messages */"./node_modules/pako/lib/zlib/messages.js"),l=i(/*! ./zlib/zstream */"./node_modules/pako/lib/zlib/zstream.js"),o=Object.prototype.toString,{Z_NO_FLUSH:d,Z_SYNC_FLUSH:h,Z_FULL_FLUSH:f,Z_FINISH:_,Z_OK:u,Z_STREAM_END:c,Z_DEFAULT_COMPRESSION:p,Z_DEFAULT_STRATEGY:m,Z_DEFLATED:b}=i(/*! ./zlib/constants */"./node_modules/pako/lib/zlib/constants.js");function g(t){this.options=s.assign({level:p,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:m},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;let i=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==u)throw new Error(n[i]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===o.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=r.deflateSetDictionary(this.strm,t),i!==u)throw new Error(n[i]);this._dict_set=!0}}function w(t,e){const i=new g(e);if(i.push(t,!0),i.err)throw i.msg||n[i.err];return i.result}g.prototype.push=function(t,e){const i=this.strm,s=this.options.chunkSize;let n,l;if(this.ended)return!1;for(l=e===~~e?e:!0===e?_:d,"string"==typeof t?i.input=a.string2buf(t):"[object ArrayBuffer]"===o.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(l===h||l===f)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(n=r.deflate(i,l),n===c)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u;if(0!==i.avail_out){if(l>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},g.prototype.onData=function(t){this.chunks.push(t)},g.prototype.onEnd=function(t){t===u&&(this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Deflate=g,t.exports.deflate=w,t.exports.deflateRaw=function(t,e){return(e=e||{}).raw=!0,w(t,e)},t.exports.gzip=function(t,e){return(e=e||{}).gzip=!0,w(t,e)},t.exports.constants=i(/*! ./zlib/constants */"./node_modules/pako/lib/zlib/constants.js")},"./node_modules/pako/lib/inflate.js":
/*!******************************************!*\
  !*** ./node_modules/pako/lib/inflate.js ***!
  \******************************************/(t,e,i)=>{const r=i(/*! ./zlib/inflate */"./node_modules/pako/lib/zlib/inflate.js"),s=i(/*! ./utils/common */"./node_modules/pako/lib/utils/common.js"),a=i(/*! ./utils/strings */"./node_modules/pako/lib/utils/strings.js"),n=i(/*! ./zlib/messages */"./node_modules/pako/lib/zlib/messages.js"),l=i(/*! ./zlib/zstream */"./node_modules/pako/lib/zlib/zstream.js"),o=i(/*! ./zlib/gzheader */"./node_modules/pako/lib/zlib/gzheader.js"),d=Object.prototype.toString,{Z_NO_FLUSH:h,Z_FINISH:f,Z_OK:_,Z_STREAM_END:u,Z_NEED_DICT:c,Z_STREAM_ERROR:p,Z_DATA_ERROR:m,Z_MEM_ERROR:b}=i(/*! ./zlib/constants */"./node_modules/pako/lib/zlib/constants.js");function g(t){this.options=s.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;let i=r.inflateInit2(this.strm,e.windowBits);if(i!==_)throw new Error(n[i]);if(this.header=new o,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=r.inflateSetDictionary(this.strm,e.dictionary),i!==_)))throw new Error(n[i])}function w(t,e){const i=new g(e);if(i.push(t),i.err)throw i.msg||n[i.err];return i.result}g.prototype.push=function(t,e){const i=this.strm,s=this.options.chunkSize,n=this.options.dictionary;let l,o,g;if(this.ended)return!1;for(o=e===~~e?e:!0===e?f:h,"[object ArrayBuffer]"===d.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),l=r.inflate(i,o),l===c&&n&&(l=r.inflateSetDictionary(i,n),l===_?l=r.inflate(i,o):l===m&&(l=c));i.avail_in>0&&l===u&&i.state.wrap>0&&0!==t[i.next_in];)r.inflateReset(i),l=r.inflate(i,o);switch(l){case p:case m:case c:case b:return this.onEnd(l),this.ended=!0,!1}if(g=i.avail_out,i.next_out&&(0===i.avail_out||l===u))if("string"===this.options.to){let t=a.utf8border(i.output,i.next_out),e=i.next_out-t,r=a.buf2string(i.output,t);i.next_out=e,i.avail_out=s-e,e&&i.output.set(i.output.subarray(t,t+e),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(l!==_||0!==g){if(l===u)return l=r.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},g.prototype.onData=function(t){this.chunks.push(t)},g.prototype.onEnd=function(t){t===_&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Inflate=g,t.exports.inflate=w,t.exports.inflateRaw=function(t,e){return(e=e||{}).raw=!0,w(t,e)},t.exports.ungzip=w,t.exports.constants=i(/*! ./zlib/constants */"./node_modules/pako/lib/zlib/constants.js")},"./node_modules/pako/lib/utils/common.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/utils/common.js ***!
  \***********************************************/t=>{const e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);t.exports.assign=function(t){const i=Array.prototype.slice.call(arguments,1);for(;i.length;){const r=i.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const i in r)e(r,i)&&(t[i]=r[i])}}return t},t.exports.flattenChunks=t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const i=new Uint8Array(e);for(let e=0,r=0,s=t.length;e<s;e++){let s=t[e];i.set(s,r),r+=s.length}return i}},"./node_modules/pako/lib/utils/strings.js":
/*!************************************************!*\
  !*** ./node_modules/pako/lib/utils/strings.js ***!
  \************************************************/t=>{let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){e=!1}const i=new Uint8Array(256);for(let t=0;t<256;t++)i[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;i[254]=i[254]=1,t.exports.string2buf=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,i,r,s,a,n=t.length,l=0;for(s=0;s<n;s++)i=t.charCodeAt(s),55296==(64512&i)&&s+1<n&&(r=t.charCodeAt(s+1),56320==(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),s++)),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(l),a=0,s=0;a<l;s++)i=t.charCodeAt(s),55296==(64512&i)&&s+1<n&&(r=t.charCodeAt(s+1),56320==(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),s++)),i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|63&i):i<65536?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|63&i):(e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|63&i);return e};t.exports.buf2string=(t,r)=>{const s=r||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,r));let a,n;const l=new Array(2*s);for(n=0,a=0;a<s;){let e=t[a++];if(e<128){l[n++]=e;continue}let r=i[e];if(r>4)l[n++]=65533,a+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&a<s;)e=e<<6|63&t[a++],r--;r>1?l[n++]=65533:e<65536?l[n++]=e:(e-=65536,l[n++]=55296|e>>10&1023,l[n++]=56320|1023&e)}}return((t,i)=>{if(i<65534&&t.subarray&&e)return String.fromCharCode.apply(null,t.length===i?t:t.subarray(0,i));let r="";for(let e=0;e<i;e++)r+=String.fromCharCode(t[e]);return r})(l,n)},t.exports.utf8border=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+i[t[r]]>e?r:e}},"./node_modules/pako/lib/zlib/adler32.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/adler32.js ***!
  \***********************************************/t=>{t.exports=(t,e,i,r)=>{let s=65535&t,a=t>>>16&65535,n=0;for(;0!==i;){n=i>2e3?2e3:i,i-=n;do{s=s+e[r++]|0,a=a+s|0}while(--n);s%=65521,a%=65521}return s|a<<16}},"./node_modules/pako/lib/zlib/constants.js":
/*!*************************************************!*\
  !*** ./node_modules/pako/lib/zlib/constants.js ***!
  \*************************************************/t=>{t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/pako/lib/zlib/crc32.js":
/*!*********************************************!*\
  !*** ./node_modules/pako/lib/zlib/crc32.js ***!
  \*********************************************/t=>{const e=new Uint32Array((()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e})());t.exports=(t,i,r,s)=>{const a=e,n=s+r;t^=-1;for(let e=s;e<n;e++)t=t>>>8^a[255&(t^i[e])];return~t}},"./node_modules/pako/lib/zlib/deflate.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/deflate.js ***!
  \***********************************************/(t,e,i)=>{const{_tr_init:r,_tr_stored_block:s,_tr_flush_block:a,_tr_tally:n,_tr_align:l}=i(/*! ./trees */"./node_modules/pako/lib/zlib/trees.js"),o=i(/*! ./adler32 */"./node_modules/pako/lib/zlib/adler32.js"),d=i(/*! ./crc32 */"./node_modules/pako/lib/zlib/crc32.js"),h=i(/*! ./messages */"./node_modules/pako/lib/zlib/messages.js"),{Z_NO_FLUSH:f,Z_PARTIAL_FLUSH:_,Z_FULL_FLUSH:u,Z_FINISH:c,Z_BLOCK:p,Z_OK:m,Z_STREAM_END:b,Z_STREAM_ERROR:g,Z_DATA_ERROR:w,Z_BUF_ERROR:y,Z_DEFAULT_COMPRESSION:k,Z_FILTERED:x,Z_HUFFMAN_ONLY:v,Z_RLE:z,Z_FIXED:A,Z_DEFAULT_STRATEGY:U,Z_UNKNOWN:R,Z_DEFLATED:T}=i(/*! ./constants */"./node_modules/pako/lib/zlib/constants.js"),E=258,S=262,j=42,I=113,O=666,Z=(t,e)=>(t.msg=h[e],e),D=t=>2*t-(t>4?9:0),C=t=>{let e=t.length;for(;--e>=0;)t[e]=0},N=t=>{let e,i,r,s=t.w_size;e=t.hash_size,r=e;do{i=t.head[--r],t.head[r]=i>=s?i-s:0}while(--e);e=s,r=e;do{i=t.prev[--r],t.prev[r]=i>=s?i-s:0}while(--e)};let F=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask;const M=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))},L=(t,e)=>{a(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,M(t.strm)},P=(t,e)=>{t.pending_buf[t.pending++]=e},B=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},H=(t,e,i,r)=>{let s=t.avail_in;return s>r&&(s=r),0===s?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),i),1===t.state.wrap?t.adler=o(t.adler,e,s,i):2===t.state.wrap&&(t.adler=d(t.adler,e,s,i)),t.next_in+=s,t.total_in+=s,s)},G=(t,e)=>{let i,r,s=t.max_chain_length,a=t.strstart,n=t.prev_length,l=t.nice_match;const o=t.strstart>t.w_size-S?t.strstart-(t.w_size-S):0,d=t.window,h=t.w_mask,f=t.prev,_=t.strstart+E;let u=d[a+n-1],c=d[a+n];t.prev_length>=t.good_match&&(s>>=2),l>t.lookahead&&(l=t.lookahead);do{if(i=e,d[i+n]===c&&d[i+n-1]===u&&d[i]===d[a]&&d[++i]===d[a+1]){a+=2,i++;do{}while(d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&a<_);if(r=E-(_-a),a=_-E,r>n){if(t.match_start=e,n=r,r>=l)break;u=d[a+n-1],c=d[a+n]}}}while((e=f[e&h])>o&&0!=--s);return n<=t.lookahead?n:t.lookahead},K=t=>{const e=t.w_size;let i,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-S)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),N(t),r+=e),0===t.strm.avail_in)break;if(i=H(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=F(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=F(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<S&&0!==t.strm.avail_in)},q=(t,e)=>{let i,r,a,n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,l=0,o=t.strm.avail_in;do{if(i=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a)break;if(a=t.strm.avail_out-a,r=t.strstart-t.block_start,i>r+t.strm.avail_in&&(i=r+t.strm.avail_in),i>a&&(i=a),i<n&&(0===i&&e!==c||e===f||i!==r+t.strm.avail_in))break;l=e===c&&i===r+t.strm.avail_in?1:0,s(t,0,0,l),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,M(t.strm),r&&(r>i&&(r=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,i-=r),i&&(H(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===l);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),l?4:e!==f&&e!==c&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(H(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,n=a>t.w_size?t.w_size:a,r=t.strstart-t.block_start,(r>=n||(r||e===c)&&e!==f&&0===t.strm.avail_in&&r<=a)&&(i=r>a?a:r,l=e===c&&0===t.strm.avail_in&&i===r?1:0,s(t,t.block_start,i,l),t.block_start+=i,M(t.strm)),l?3:1)},Y=(t,e)=>{let i,r;for(;;){if(t.lookahead<S){if(K(t),t.lookahead<S&&e===f)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=F(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-S&&(t.match_length=G(t,i)),t.match_length>=3)if(r=n(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=F(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=F(t,t.ins_h,t.window[t.strstart+1]);else r=n(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(L(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===c?(L(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(L(t,!1),0===t.strm.avail_out)?1:2},X=(t,e)=>{let i,r,s;for(;;){if(t.lookahead<S){if(K(t),t.lookahead<S&&e===f)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=F(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-S&&(t.match_length=G(t,i),t.match_length<=5&&(t.strategy===x||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-3,r=n(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=F(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(L(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=n(t,0,t.window[t.strstart-1]),r&&L(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=n(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===c?(L(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(L(t,!1),0===t.strm.avail_out)?1:2};function $(t,e,i,r,s){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=r,this.func=s}const V=[new $(0,0,0,0,q),new $(4,4,8,4,Y),new $(4,5,16,8,Y),new $(4,6,32,32,Y),new $(4,4,16,16,X),new $(8,16,32,32,X),new $(8,16,128,128,X),new $(8,32,128,256,X),new $(32,128,258,1024,X),new $(32,258,258,4096,X)];function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),C(this.dyn_ltree),C(this.dyn_dtree),C(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),C(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),C(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const J=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==j&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==I&&e.status!==O?1:0},Q=t=>{if(J(t))return Z(t,g);t.total_in=t.total_out=0,t.data_type=R;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?j:I,t.adler=2===e.wrap?0:1,e.last_flush=-2,r(e),m},tt=t=>{const e=Q(t);var i;return e===m&&((i=t.state).window_size=2*i.w_size,C(i.head),i.max_lazy_match=V[i.level].max_lazy,i.good_match=V[i.level].good_length,i.nice_match=V[i.level].nice_length,i.max_chain_length=V[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),e},et=(t,e,i,r,s,a)=>{if(!t)return g;let n=1;if(e===k&&(e=6),r<0?(n=0,r=-r):r>15&&(n=2,r-=16),s<1||s>9||i!==T||r<8||r>15||e<0||e>9||a<0||a>A||8===r&&1!==n)return Z(t,g);8===r&&(r=9);const l=new W;return t.state=l,l.strm=t,l.status=j,l.wrap=n,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=3*(l.lit_bufsize-1),l.level=e,l.strategy=a,l.method=i,tt(t)};t.exports.deflateInit=(t,e)=>et(t,e,T,15,8,U),t.exports.deflateInit2=et,t.exports.deflateReset=tt,t.exports.deflateResetKeep=Q,t.exports.deflateSetHeader=(t,e)=>J(t)||2!==t.state.wrap?g:(t.state.gzhead=e,m),t.exports.deflate=(t,e)=>{if(J(t)||e>p||e<0)return t?Z(t,g):g;const i=t.state;if(!t.output||0!==t.avail_in&&!t.input||i.status===O&&e!==c)return Z(t,0===t.avail_out?y:g);const r=i.last_flush;if(i.last_flush=e,0!==i.pending){if(M(t),0===t.avail_out)return i.last_flush=-1,m}else if(0===t.avail_in&&D(e)<=D(r)&&e!==c)return Z(t,y);if(i.status===O&&0!==t.avail_in)return Z(t,y);if(i.status===j&&0===i.wrap&&(i.status=I),i.status===j){let e=T+(i.w_bits-8<<4)<<8,r=-1;if(r=i.strategy>=v||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=r<<6,0!==i.strstart&&(e|=32),e+=31-e%31,B(i,e),0!==i.strstart&&(B(i,t.adler>>>16),B(i,65535&t.adler)),t.adler=1,i.status=I,M(t),0!==i.pending)return i.last_flush=-1,m}if(57===i.status)if(t.adler=0,P(i,31),P(i,139),P(i,8),i.gzhead)P(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),P(i,255&i.gzhead.time),P(i,i.gzhead.time>>8&255),P(i,i.gzhead.time>>16&255),P(i,i.gzhead.time>>24&255),P(i,9===i.level?2:i.strategy>=v||i.level<2?4:0),P(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(P(i,255&i.gzhead.extra.length),P(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=d(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(P(i,0),P(i,0),P(i,0),P(i,0),P(i,0),P(i,9===i.level?2:i.strategy>=v||i.level<2?4:0),P(i,3),i.status=I,M(t),0!==i.pending)return i.last_flush=-1,m;if(69===i.status){if(i.gzhead.extra){let e=i.pending,r=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+r>i.pending_buf_size;){let s=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+s),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>e&&(t.adler=d(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex+=s,M(t),0!==i.pending)return i.last_flush=-1,m;e=0,r-=s}let s=new Uint8Array(i.gzhead.extra);i.pending_buf.set(s.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending+=r,i.gzhead.hcrc&&i.pending>e&&(t.adler=d(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let e,r=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),M(t),0!==i.pending)return i.last_flush=-1,m;r=0}e=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,P(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let e,r=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),M(t),0!==i.pending)return i.last_flush=-1,m;r=0}e=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,P(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(M(t),0!==i.pending))return i.last_flush=-1,m;P(i,255&t.adler),P(i,t.adler>>8&255),t.adler=0}if(i.status=I,M(t),0!==i.pending)return i.last_flush=-1,m}if(0!==t.avail_in||0!==i.lookahead||e!==f&&i.status!==O){let r=0===i.level?q(i,e):i.strategy===v?((t,e)=>{let i;for(;;){if(0===t.lookahead&&(K(t),0===t.lookahead)){if(e===f)return 1;break}if(t.match_length=0,i=n(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(L(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===c?(L(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(L(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===z?((t,e)=>{let i,r,s,a;const l=t.window;for(;;){if(t.lookahead<=E){if(K(t),t.lookahead<=E&&e===f)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(s=t.strstart-1,r=l[s],r===l[++s]&&r===l[++s]&&r===l[++s])){a=t.strstart+E;do{}while(r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&s<a);t.match_length=E-(a-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=n(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=n(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(L(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===c?(L(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(L(t,!1),0===t.strm.avail_out)?1:2})(i,e):V[i.level].func(i,e);if(3!==r&&4!==r||(i.status=O),1===r||3===r)return 0===t.avail_out&&(i.last_flush=-1),m;if(2===r&&(e===_?l(i):e!==p&&(s(i,0,0,!1),e===u&&(C(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),M(t),0===t.avail_out))return i.last_flush=-1,m}return e!==c?m:i.wrap<=0?b:(2===i.wrap?(P(i,255&t.adler),P(i,t.adler>>8&255),P(i,t.adler>>16&255),P(i,t.adler>>24&255),P(i,255&t.total_in),P(i,t.total_in>>8&255),P(i,t.total_in>>16&255),P(i,t.total_in>>24&255)):(B(i,t.adler>>>16),B(i,65535&t.adler)),M(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?m:b)},t.exports.deflateEnd=t=>{if(J(t))return g;const e=t.state.status;return t.state=null,e===I?Z(t,w):m},t.exports.deflateSetDictionary=(t,e)=>{let i=e.length;if(J(t))return g;const r=t.state,s=r.wrap;if(2===s||1===s&&r.status!==j||r.lookahead)return g;if(1===s&&(t.adler=o(t.adler,e,i,0)),r.wrap=0,i>=r.w_size){0===s&&(C(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(i-r.w_size,i),0),e=t,i=r.w_size}const a=t.avail_in,n=t.next_in,l=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,K(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=F(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,K(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=n,t.input=l,t.avail_in=a,r.wrap=s,m},t.exports.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/gzheader.js":
/*!************************************************!*\
  !*** ./node_modules/pako/lib/zlib/gzheader.js ***!
  \************************************************/t=>{t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"./node_modules/pako/lib/zlib/inffast.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/inffast.js ***!
  \***********************************************/t=>{const e=16209;t.exports=function(t,i){let r,s,a,n,l,o,d,h,f,_,u,c,p,m,b,g,w,y,k,x,v,z,A,U;const R=t.state;r=t.next_in,A=t.input,s=r+(t.avail_in-5),a=t.next_out,U=t.output,n=a-(i-t.avail_out),l=a+(t.avail_out-257),o=R.dmax,d=R.wsize,h=R.whave,f=R.wnext,_=R.window,u=R.hold,c=R.bits,p=R.lencode,m=R.distcode,b=(1<<R.lenbits)-1,g=(1<<R.distbits)-1;t:do{c<15&&(u+=A[r++]<<c,c+=8,u+=A[r++]<<c,c+=8),w=p[u&b];e:for(;;){if(y=w>>>24,u>>>=y,c-=y,y=w>>>16&255,0===y)U[a++]=65535&w;else{if(!(16&y)){if(64&y){if(32&y){R.mode=16191;break t}t.msg="invalid literal/length code",R.mode=e;break t}w=p[(65535&w)+(u&(1<<y)-1)];continue e}for(k=65535&w,y&=15,y&&(c<y&&(u+=A[r++]<<c,c+=8),k+=u&(1<<y)-1,u>>>=y,c-=y),c<15&&(u+=A[r++]<<c,c+=8,u+=A[r++]<<c,c+=8),w=m[u&g];;){if(y=w>>>24,u>>>=y,c-=y,y=w>>>16&255,16&y){if(x=65535&w,y&=15,c<y&&(u+=A[r++]<<c,c+=8,c<y&&(u+=A[r++]<<c,c+=8)),x+=u&(1<<y)-1,x>o){t.msg="invalid distance too far back",R.mode=e;break t}if(u>>>=y,c-=y,y=a-n,x>y){if(y=x-y,y>h&&R.sane){t.msg="invalid distance too far back",R.mode=e;break t}if(v=0,z=_,0===f){if(v+=d-y,y<k){k-=y;do{U[a++]=_[v++]}while(--y);v=a-x,z=U}}else if(f<y){if(v+=d+f-y,y-=f,y<k){k-=y;do{U[a++]=_[v++]}while(--y);if(v=0,f<k){y=f,k-=y;do{U[a++]=_[v++]}while(--y);v=a-x,z=U}}}else if(v+=f-y,y<k){k-=y;do{U[a++]=_[v++]}while(--y);v=a-x,z=U}for(;k>2;)U[a++]=z[v++],U[a++]=z[v++],U[a++]=z[v++],k-=3;k&&(U[a++]=z[v++],k>1&&(U[a++]=z[v++]))}else{v=a-x;do{U[a++]=U[v++],U[a++]=U[v++],U[a++]=U[v++],k-=3}while(k>2);k&&(U[a++]=U[v++],k>1&&(U[a++]=U[v++]))}break}if(64&y){t.msg="invalid distance code",R.mode=e;break t}w=m[(65535&w)+(u&(1<<y)-1)]}}break}}while(r<s&&a<l);k=c>>3,r-=k,c-=k<<3,u&=(1<<c)-1,t.next_in=r,t.next_out=a,t.avail_in=r<s?s-r+5:5-(r-s),t.avail_out=a<l?l-a+257:257-(a-l),R.hold=u,R.bits=c}},"./node_modules/pako/lib/zlib/inflate.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/inflate.js ***!
  \***********************************************/(t,e,i)=>{const r=i(/*! ./adler32 */"./node_modules/pako/lib/zlib/adler32.js"),s=i(/*! ./crc32 */"./node_modules/pako/lib/zlib/crc32.js"),a=i(/*! ./inffast */"./node_modules/pako/lib/zlib/inffast.js"),n=i(/*! ./inftrees */"./node_modules/pako/lib/zlib/inftrees.js"),{Z_FINISH:l,Z_BLOCK:o,Z_TREES:d,Z_OK:h,Z_STREAM_END:f,Z_NEED_DICT:_,Z_STREAM_ERROR:u,Z_DATA_ERROR:c,Z_MEM_ERROR:p,Z_BUF_ERROR:m,Z_DEFLATED:b}=i(/*! ./constants */"./node_modules/pako/lib/zlib/constants.js"),g=16180,w=16190,y=16191,k=16192,x=16194,v=16199,z=16200,A=16206,U=16209,R=16210,T=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function E(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const S=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<g||e.mode>16211?1:0},j=t=>{if(S(t))return u;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=g,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,h},I=t=>{if(S(t))return u;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,j(t)},O=(t,e)=>{let i;if(S(t))return u;const r=t.state;return e<0?(i=0,e=-e):(i=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?u:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=i,r.wbits=e,I(t))},Z=(t,e)=>{if(!t)return u;const i=new E;t.state=i,i.strm=t,i.window=null,i.mode=g;const r=O(t,e);return r!==h&&(t.state=null),r};let D,C,N=!0;const F=t=>{if(N){D=new Int32Array(512),C=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(n(1,t.lens,0,288,D,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;n(2,t.lens,0,32,C,0,t.work,{bits:5}),N=!1}t.lencode=D,t.lenbits=9,t.distcode=C,t.distbits=5},M=(t,e,i,r)=>{let s;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(i-a.wsize,i),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>r&&(s=r),a.window.set(e.subarray(i-r,i-r+s),a.wnext),(r-=s)?(a.window.set(e.subarray(i-r,i),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0};t.exports.inflateReset=I,t.exports.inflateReset2=O,t.exports.inflateResetKeep=j,t.exports.inflateInit=t=>Z(t,15),t.exports.inflateInit2=Z,t.exports.inflate=(t,e)=>{let i,E,j,I,O,Z,D,C,N,L,P,B,H,G,K,q,Y,X,$,V,W,J,Q=0;const tt=new Uint8Array(4);let et,it;const rt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(S(t)||!t.output||!t.input&&0!==t.avail_in)return u;i=t.state,i.mode===y&&(i.mode=k),O=t.next_out,j=t.output,D=t.avail_out,I=t.next_in,E=t.input,Z=t.avail_in,C=i.hold,N=i.bits,L=Z,P=D,J=h;t:for(;;)switch(i.mode){case g:if(0===i.wrap){i.mode=k;break}for(;N<16;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(2&i.wrap&&35615===C){0===i.wbits&&(i.wbits=15),i.check=0,tt[0]=255&C,tt[1]=C>>>8&255,i.check=s(i.check,tt,2,0),C=0,N=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&C)<<8)+(C>>8))%31){t.msg="incorrect header check",i.mode=U;break}if((15&C)!==b){t.msg="unknown compression method",i.mode=U;break}if(C>>>=4,N-=4,W=8+(15&C),0===i.wbits&&(i.wbits=W),W>15||W>i.wbits){t.msg="invalid window size",i.mode=U;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=512&C?16189:y,C=0,N=0;break;case 16181:for(;N<16;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(i.flags=C,(255&i.flags)!==b){t.msg="unknown compression method",i.mode=U;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=U;break}i.head&&(i.head.text=C>>8&1),512&i.flags&&4&i.wrap&&(tt[0]=255&C,tt[1]=C>>>8&255,i.check=s(i.check,tt,2,0)),C=0,N=0,i.mode=16182;case 16182:for(;N<32;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}i.head&&(i.head.time=C),512&i.flags&&4&i.wrap&&(tt[0]=255&C,tt[1]=C>>>8&255,tt[2]=C>>>16&255,tt[3]=C>>>24&255,i.check=s(i.check,tt,4,0)),C=0,N=0,i.mode=16183;case 16183:for(;N<16;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}i.head&&(i.head.xflags=255&C,i.head.os=C>>8),512&i.flags&&4&i.wrap&&(tt[0]=255&C,tt[1]=C>>>8&255,i.check=s(i.check,tt,2,0)),C=0,N=0,i.mode=16184;case 16184:if(1024&i.flags){for(;N<16;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}i.length=C,i.head&&(i.head.extra_len=C),512&i.flags&&4&i.wrap&&(tt[0]=255&C,tt[1]=C>>>8&255,i.check=s(i.check,tt,2,0)),C=0,N=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(B=i.length,B>Z&&(B=Z),B&&(i.head&&(W=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(E.subarray(I,I+B),W)),512&i.flags&&4&i.wrap&&(i.check=s(i.check,E,B,I)),Z-=B,I+=B,i.length-=B),i.length))break t;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===Z)break t;B=0;do{W=E[I+B++],i.head&&W&&i.length<65536&&(i.head.name+=String.fromCharCode(W))}while(W&&B<Z);if(512&i.flags&&4&i.wrap&&(i.check=s(i.check,E,B,I)),Z-=B,I+=B,W)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===Z)break t;B=0;do{W=E[I+B++],i.head&&W&&i.length<65536&&(i.head.comment+=String.fromCharCode(W))}while(W&&B<Z);if(512&i.flags&&4&i.wrap&&(i.check=s(i.check,E,B,I)),Z-=B,I+=B,W)break t}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;N<16;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(4&i.wrap&&C!==(65535&i.check)){t.msg="header crc mismatch",i.mode=U;break}C=0,N=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=y;break;case 16189:for(;N<32;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}t.adler=i.check=T(C),C=0,N=0,i.mode=w;case w:if(0===i.havedict)return t.next_out=O,t.avail_out=D,t.next_in=I,t.avail_in=Z,i.hold=C,i.bits=N,_;t.adler=i.check=1,i.mode=y;case y:if(e===o||e===d)break t;case k:if(i.last){C>>>=7&N,N-=7&N,i.mode=A;break}for(;N<3;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}switch(i.last=1&C,C>>>=1,N-=1,3&C){case 0:i.mode=16193;break;case 1:if(F(i),i.mode=v,e===d){C>>>=2,N-=2;break t}break;case 2:i.mode=16196;break;case 3:t.msg="invalid block type",i.mode=U}C>>>=2,N-=2;break;case 16193:for(C>>>=7&N,N-=7&N;N<32;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if((65535&C)!=(C>>>16^65535)){t.msg="invalid stored block lengths",i.mode=U;break}if(i.length=65535&C,C=0,N=0,i.mode=x,e===d)break t;case x:i.mode=16195;case 16195:if(B=i.length,B){if(B>Z&&(B=Z),B>D&&(B=D),0===B)break t;j.set(E.subarray(I,I+B),O),Z-=B,I+=B,D-=B,O+=B,i.length-=B;break}i.mode=y;break;case 16196:for(;N<14;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(i.nlen=257+(31&C),C>>>=5,N-=5,i.ndist=1+(31&C),C>>>=5,N-=5,i.ncode=4+(15&C),C>>>=4,N-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=U;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;N<3;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}i.lens[rt[i.have++]]=7&C,C>>>=3,N-=3}for(;i.have<19;)i.lens[rt[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,et={bits:i.lenbits},J=n(0,i.lens,0,19,i.lencode,0,i.work,et),i.lenbits=et.bits,J){t.msg="invalid code lengths set",i.mode=U;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;Q=i.lencode[C&(1<<i.lenbits)-1],K=Q>>>24,q=Q>>>16&255,Y=65535&Q,!(K<=N);){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(Y<16)C>>>=K,N-=K,i.lens[i.have++]=Y;else{if(16===Y){for(it=K+2;N<it;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(C>>>=K,N-=K,0===i.have){t.msg="invalid bit length repeat",i.mode=U;break}W=i.lens[i.have-1],B=3+(3&C),C>>>=2,N-=2}else if(17===Y){for(it=K+3;N<it;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}C>>>=K,N-=K,W=0,B=3+(7&C),C>>>=3,N-=3}else{for(it=K+7;N<it;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}C>>>=K,N-=K,W=0,B=11+(127&C),C>>>=7,N-=7}if(i.have+B>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=U;break}for(;B--;)i.lens[i.have++]=W}}if(i.mode===U)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=U;break}if(i.lenbits=9,et={bits:i.lenbits},J=n(1,i.lens,0,i.nlen,i.lencode,0,i.work,et),i.lenbits=et.bits,J){t.msg="invalid literal/lengths set",i.mode=U;break}if(i.distbits=6,i.distcode=i.distdyn,et={bits:i.distbits},J=n(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,et),i.distbits=et.bits,J){t.msg="invalid distances set",i.mode=U;break}if(i.mode=v,e===d)break t;case v:i.mode=z;case z:if(Z>=6&&D>=258){t.next_out=O,t.avail_out=D,t.next_in=I,t.avail_in=Z,i.hold=C,i.bits=N,a(t,P),O=t.next_out,j=t.output,D=t.avail_out,I=t.next_in,E=t.input,Z=t.avail_in,C=i.hold,N=i.bits,i.mode===y&&(i.back=-1);break}for(i.back=0;Q=i.lencode[C&(1<<i.lenbits)-1],K=Q>>>24,q=Q>>>16&255,Y=65535&Q,!(K<=N);){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(q&&!(240&q)){for(X=K,$=q,V=Y;Q=i.lencode[V+((C&(1<<X+$)-1)>>X)],K=Q>>>24,q=Q>>>16&255,Y=65535&Q,!(X+K<=N);){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}C>>>=X,N-=X,i.back+=X}if(C>>>=K,N-=K,i.back+=K,i.length=Y,0===q){i.mode=16205;break}if(32&q){i.back=-1,i.mode=y;break}if(64&q){t.msg="invalid literal/length code",i.mode=U;break}i.extra=15&q,i.mode=16201;case 16201:if(i.extra){for(it=i.extra;N<it;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}i.length+=C&(1<<i.extra)-1,C>>>=i.extra,N-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;Q=i.distcode[C&(1<<i.distbits)-1],K=Q>>>24,q=Q>>>16&255,Y=65535&Q,!(K<=N);){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(!(240&q)){for(X=K,$=q,V=Y;Q=i.distcode[V+((C&(1<<X+$)-1)>>X)],K=Q>>>24,q=Q>>>16&255,Y=65535&Q,!(X+K<=N);){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}C>>>=X,N-=X,i.back+=X}if(C>>>=K,N-=K,i.back+=K,64&q){t.msg="invalid distance code",i.mode=U;break}i.offset=Y,i.extra=15&q,i.mode=16203;case 16203:if(i.extra){for(it=i.extra;N<it;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}i.offset+=C&(1<<i.extra)-1,C>>>=i.extra,N-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=U;break}i.mode=16204;case 16204:if(0===D)break t;if(B=P-D,i.offset>B){if(B=i.offset-B,B>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=U;break}B>i.wnext?(B-=i.wnext,H=i.wsize-B):H=i.wnext-B,B>i.length&&(B=i.length),G=i.window}else G=j,H=O-i.offset,B=i.length;B>D&&(B=D),D-=B,i.length-=B;do{j[O++]=G[H++]}while(--B);0===i.length&&(i.mode=z);break;case 16205:if(0===D)break t;j[O++]=i.length,D--,i.mode=z;break;case A:if(i.wrap){for(;N<32;){if(0===Z)break t;Z--,C|=E[I++]<<N,N+=8}if(P-=D,t.total_out+=P,i.total+=P,4&i.wrap&&P&&(t.adler=i.check=i.flags?s(i.check,j,P,O-P):r(i.check,j,P,O-P)),P=D,4&i.wrap&&(i.flags?C:T(C))!==i.check){t.msg="incorrect data check",i.mode=U;break}C=0,N=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;N<32;){if(0===Z)break t;Z--,C+=E[I++]<<N,N+=8}if(4&i.wrap&&C!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=U;break}C=0,N=0}i.mode=16208;case 16208:J=f;break t;case U:J=c;break t;case R:return p;default:return u}return t.next_out=O,t.avail_out=D,t.next_in=I,t.avail_in=Z,i.hold=C,i.bits=N,(i.wsize||P!==t.avail_out&&i.mode<U&&(i.mode<A||e!==l))&&M(t,t.output,t.next_out,P-t.avail_out)?(i.mode=R,p):(L-=t.avail_in,P-=t.avail_out,t.total_in+=L,t.total_out+=P,i.total+=P,4&i.wrap&&P&&(t.adler=i.check=i.flags?s(i.check,j,P,t.next_out-P):r(i.check,j,P,t.next_out-P)),t.data_type=i.bits+(i.last?64:0)+(i.mode===y?128:0)+(i.mode===v||i.mode===x?256:0),(0===L&&0===P||e===l)&&J===h&&(J=m),J)},t.exports.inflateEnd=t=>{if(S(t))return u;let e=t.state;return e.window&&(e.window=null),t.state=null,h},t.exports.inflateGetHeader=(t,e)=>{if(S(t))return u;const i=t.state;return 2&i.wrap?(i.head=e,e.done=!1,h):u},t.exports.inflateSetDictionary=(t,e)=>{const i=e.length;let s,a,n;return S(t)?u:(s=t.state,0!==s.wrap&&s.mode!==w?u:s.mode===w&&(a=1,a=r(a,e,i,0),a!==s.check)?c:(n=M(t,e,i,i),n?(s.mode=R,p):(s.havedict=1,h)))},t.exports.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/inftrees.js":
/*!************************************************!*\
  !*** ./node_modules/pako/lib/zlib/inftrees.js ***!
  \************************************************/t=>{const e=15,i=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),r=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),s=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=(t,n,l,o,d,h,f,_)=>{const u=_.bits;let c,p,m,b,g,w,y=0,k=0,x=0,v=0,z=0,A=0,U=0,R=0,T=0,E=0,S=null;const j=new Uint16Array(16),I=new Uint16Array(16);let O,Z,D,C=null;for(y=0;y<=e;y++)j[y]=0;for(k=0;k<o;k++)j[n[l+k]]++;for(z=u,v=e;v>=1&&0===j[v];v--);if(z>v&&(z=v),0===v)return d[h++]=20971520,d[h++]=20971520,_.bits=1,0;for(x=1;x<v&&0===j[x];x++);for(z<x&&(z=x),R=1,y=1;y<=e;y++)if(R<<=1,R-=j[y],R<0)return-1;if(R>0&&(0===t||1!==v))return-1;for(I[1]=0,y=1;y<e;y++)I[y+1]=I[y]+j[y];for(k=0;k<o;k++)0!==n[l+k]&&(f[I[n[l+k]]++]=k);if(0===t?(S=C=f,w=20):1===t?(S=i,C=r,w=257):(S=s,C=a,w=0),E=0,k=0,y=x,g=h,A=z,U=0,m=-1,T=1<<z,b=T-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){O=y-U,f[k]+1<w?(Z=0,D=f[k]):f[k]>=w?(Z=C[f[k]-w],D=S[f[k]-w]):(Z=96,D=0),c=1<<y-U,p=1<<A,x=p;do{p-=c,d[g+(E>>U)+p]=O<<24|Z<<16|D}while(0!==p);for(c=1<<y-1;E&c;)c>>=1;if(0!==c?(E&=c-1,E+=c):E=0,k++,0==--j[y]){if(y===v)break;y=n[l+f[k]]}if(y>z&&(E&b)!==m){for(0===U&&(U=z),g+=x,A=y-U,R=1<<A;A+U<v&&(R-=j[A+U],!(R<=0));)A++,R<<=1;if(T+=1<<A,1===t&&T>852||2===t&&T>592)return 1;m=E&b,d[m]=z<<24|A<<16|g-h}}return 0!==E&&(d[g+E]=y-U<<24|64<<16),_.bits=z,0}},"./node_modules/pako/lib/zlib/messages.js":
/*!************************************************!*\
  !*** ./node_modules/pako/lib/zlib/messages.js ***!
  \************************************************/t=>{t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/pako/lib/zlib/trees.js":
/*!*********************************************!*\
  !*** ./node_modules/pako/lib/zlib/trees.js ***!
  \*********************************************/t=>{function e(t){let e=t.length;for(;--e>=0;)t[e]=0}const i=256,r=286,s=30,a=15,n=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),l=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);e(h);const f=new Array(60);e(f);const _=new Array(512);e(_);const u=new Array(256);e(u);const c=new Array(29);e(c);const p=new Array(s);function m(t,e,i,r,s){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=s,this.has_stree=t&&t.length}let b,g,w;function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(p);const k=t=>t<256?_[t]:_[256+(t>>>7)],x=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},v=(t,e,i)=>{t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},z=(t,e,i)=>{v(t,i[2*e],i[2*e+1])},A=(t,e)=>{let i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1},U=(t,e,i)=>{const r=new Array(16);let s,n,l=0;for(s=1;s<=a;s++)l=l+i[s-1]<<1,r[s]=l;for(n=0;n<=e;n++){let e=t[2*n+1];0!==e&&(t[2*n]=A(r[e]++,e))}},R=t=>{let e;for(e=0;e<r;e++)t.dyn_ltree[2*e]=0;for(e=0;e<s;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},T=t=>{t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},E=(t,e,i,r)=>{const s=2*e,a=2*i;return t[s]<t[a]||t[s]===t[a]&&r[e]<=r[i]},S=(t,e,i)=>{const r=t.heap[i];let s=i<<1;for(;s<=t.heap_len&&(s<t.heap_len&&E(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!E(e,r,t.heap[s],t.depth));)t.heap[i]=t.heap[s],i=s,s<<=1;t.heap[i]=r},j=(t,e,r)=>{let s,a,o,d,h=0;if(0!==t.sym_next)do{s=255&t.pending_buf[t.sym_buf+h++],s+=(255&t.pending_buf[t.sym_buf+h++])<<8,a=t.pending_buf[t.sym_buf+h++],0===s?z(t,a,e):(o=u[a],z(t,o+i+1,e),d=n[o],0!==d&&(a-=c[o],v(t,a,d)),s--,o=k(s),z(t,o,r),d=l[o],0!==d&&(s-=p[o],v(t,s,d)))}while(h<t.sym_next);z(t,256,e)},I=(t,e)=>{const i=e.dyn_tree,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,n=e.stat_desc.elems;let l,o,d,h=-1;for(t.heap_len=0,t.heap_max=573,l=0;l<n;l++)0!==i[2*l]?(t.heap[++t.heap_len]=h=l,t.depth[l]=0):i[2*l+1]=0;for(;t.heap_len<2;)d=t.heap[++t.heap_len]=h<2?++h:0,i[2*d]=1,t.depth[d]=0,t.opt_len--,s&&(t.static_len-=r[2*d+1]);for(e.max_code=h,l=t.heap_len>>1;l>=1;l--)S(t,i,l);d=n;do{l=t.heap[1],t.heap[1]=t.heap[t.heap_len--],S(t,i,1),o=t.heap[1],t.heap[--t.heap_max]=l,t.heap[--t.heap_max]=o,i[2*d]=i[2*l]+i[2*o],t.depth[d]=(t.depth[l]>=t.depth[o]?t.depth[l]:t.depth[o])+1,i[2*l+1]=i[2*o+1]=d,t.heap[1]=d++,S(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const i=e.dyn_tree,r=e.max_code,s=e.stat_desc.static_tree,n=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,d=e.stat_desc.max_length;let h,f,_,u,c,p,m=0;for(u=0;u<=a;u++)t.bl_count[u]=0;for(i[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)f=t.heap[h],u=i[2*i[2*f+1]+1]+1,u>d&&(u=d,m++),i[2*f+1]=u,f>r||(t.bl_count[u]++,c=0,f>=o&&(c=l[f-o]),p=i[2*f],t.opt_len+=p*(u+c),n&&(t.static_len+=p*(s[2*f+1]+c)));if(0!==m){do{for(u=d-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[d]--,m-=2}while(m>0);for(u=d;0!==u;u--)for(f=t.bl_count[u];0!==f;)_=t.heap[--h],_>r||(i[2*_+1]!==u&&(t.opt_len+=(u-i[2*_+1])*i[2*_],i[2*_+1]=u),f--)}})(t,e),U(i,h,t.bl_count)},O=(t,e,i)=>{let r,s,a=-1,n=e[1],l=0,o=7,d=4;for(0===n&&(o=138,d=3),e[2*(i+1)+1]=65535,r=0;r<=i;r++)s=n,n=e[2*(r+1)+1],++l<o&&s===n||(l<d?t.bl_tree[2*s]+=l:0!==s?(s!==a&&t.bl_tree[2*s]++,t.bl_tree[32]++):l<=10?t.bl_tree[34]++:t.bl_tree[36]++,l=0,a=s,0===n?(o=138,d=3):s===n?(o=6,d=3):(o=7,d=4))},Z=(t,e,i)=>{let r,s,a=-1,n=e[1],l=0,o=7,d=4;for(0===n&&(o=138,d=3),r=0;r<=i;r++)if(s=n,n=e[2*(r+1)+1],!(++l<o&&s===n)){if(l<d)do{z(t,s,t.bl_tree)}while(0!=--l);else 0!==s?(s!==a&&(z(t,s,t.bl_tree),l--),z(t,16,t.bl_tree),v(t,l-3,2)):l<=10?(z(t,17,t.bl_tree),v(t,l-3,3)):(z(t,18,t.bl_tree),v(t,l-11,7));l=0,a=s,0===n?(o=138,d=3):s===n?(o=6,d=3):(o=7,d=4)}};let D=!1;const C=(t,e,i,r)=>{v(t,0+(r?1:0),3),T(t),x(t,i),x(t,~i),i&&t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i};t.exports._tr_init=t=>{D||((()=>{let t,e,i,d,y;const k=new Array(16);for(i=0,d=0;d<28;d++)for(c[d]=i,t=0;t<1<<n[d];t++)u[i++]=d;for(u[i-1]=d,y=0,d=0;d<16;d++)for(p[d]=y,t=0;t<1<<l[d];t++)_[y++]=d;for(y>>=7;d<s;d++)for(p[d]=y<<7,t=0;t<1<<l[d]-7;t++)_[256+y++]=d;for(e=0;e<=a;e++)k[e]=0;for(t=0;t<=143;)h[2*t+1]=8,t++,k[8]++;for(;t<=255;)h[2*t+1]=9,t++,k[9]++;for(;t<=279;)h[2*t+1]=7,t++,k[7]++;for(;t<=287;)h[2*t+1]=8,t++,k[8]++;for(U(h,287,k),t=0;t<s;t++)f[2*t+1]=5,f[2*t]=A(t,5);b=new m(h,n,257,r,a),g=new m(f,l,0,s,a),w=new m(new Array(0),o,0,19,7)})(),D=!0),t.l_desc=new y(t.dyn_ltree,b),t.d_desc=new y(t.dyn_dtree,g),t.bl_desc=new y(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,R(t)},t.exports._tr_stored_block=C,t.exports._tr_flush_block=(t,e,r,s)=>{let a,n,l=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<i;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),I(t,t.l_desc),I(t,t.d_desc),l=(t=>{let e;for(O(t,t.dyn_ltree,t.l_desc.max_code),O(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),a=t.opt_len+3+7>>>3,n=t.static_len+3+7>>>3,n<=a&&(a=n)):a=n=r+5,r+4<=a&&-1!==e?C(t,e,r,s):4===t.strategy||n===a?(v(t,2+(s?1:0),3),j(t,h,f)):(v(t,4+(s?1:0),3),((t,e,i,r)=>{let s;for(v(t,e-257,5),v(t,i-1,5),v(t,r-4,4),s=0;s<r;s++)v(t,t.bl_tree[2*d[s]+1],3);Z(t,t.dyn_ltree,e-1),Z(t,t.dyn_dtree,i-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),j(t,t.dyn_ltree,t.dyn_dtree)),R(t),s&&T(t)},t.exports._tr_tally=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(u[r]+i+1)]++,t.dyn_dtree[2*k(e)]++),t.sym_next===t.sym_end),t.exports._tr_align=t=>{v(t,2,3),z(t,256,h),(t=>{16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},"./node_modules/pako/lib/zlib/zstream.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/zstream.js ***!
  \***********************************************/t=>{t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},"./src/animatedPNG.ts":
/*!****************************!*\
  !*** ./src/animatedPNG.ts ***!
  \****************************/function(t,e,i){var r=this&&this.__rest||function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(i[r[s]]=t[r[s]])}return i};Object.defineProperty(e,"__esModule",{value:!0}),e.AnimatedPNG=void 0;const s=i(/*! pixi.js */"pixi.js"),a=i(/*! ./lib/upng */"./src/lib/upng.ts");class n extends s.Sprite{static fromBuffer(t,e){if(!t||0===t.byteLength)throw new Error("Invalid buffer");const i=(0,a.decodeBuffer)(t),r=(0,a.uPng)(i),l=i.width,o=i.height,d=[],h=s.DOMAdapter.get().createCanvas(l,o),f=h.getContext("2d",{willReadFrequently:!0}),_=s.DOMAdapter.get().createCanvas(),u=_.getContext("2d");let c=0;for(let t=0;t<r.length;t++){const e=i.frames[t],s=r[t],a=new Uint8ClampedArray(s);_.width=l,_.height=o,u.clearRect(0,0,l,o);const n=u.createImageData(l,o);n.data.set(a),u.putImageData(n,0,0),f.drawImage(_,0,0);const p=f.getImageData(0,0,h.width,h.height);f.clearRect(0,0,h.width,h.height),d.push({start:c,end:c+e.delay,imageData:p}),c+=e.delay}return h.width=h.height=0,_.width=_.height=0,new n(d,Object.assign({width:l,height:o},e))}constructor(t,e){super(s.Texture.EMPTY),this.animationSpeed=1,this.loop=!0,this.duration=0,this.framesCount=0,this.autoPlay=!0,this.dirty=!1,this._currentFrame=0,this._autoUpdate=!1,this._isConnectedToTicker=!1,this._playing=!1,this._loops=void 0,this._currentTime=0,this.onRender=()=>this.updateFrame();const i=Object.assign({},n.defaultOptions,e),{scaleMode:a,width:l,height:o}=i,d=r(i,["scaleMode","width","height"]),h=s.DOMAdapter.get().createCanvas(l,o),f=h.getContext("2d");this.texture=s.Texture.from(h),this.texture.source.scaleMode=a,this.framesCount=t.length,this.duration=t[t.length-1].end,this._frames=t,this._context=f,this._playing=!1,this._currentTime=0,this._isConnectedToTicker=!1,Object.assign(this,d),this.currentFrame=0,d.autoPlay&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(t){this._playing||(this._playing=!0,this._loops=t,null!=t&&(this.loop=!1),this._autoUpdate&&!this._isConnectedToTicker&&(s.Ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))}get progress(){return this._currentTime/this.duration}get playing(){return this._playing}update(t){var e,i;if(!this._playing)return;const r=this.animationSpeed*t.deltaTime/s.Ticker.targetFPMS,a=this._currentTime+r,n=a%this.duration,l=this._frames.findIndex((t=>t.start<=n&&t.end>n));a>=this.duration?(null!=this._loops&&(this._loops--,this._loops<=0&&(this._loops=void 0)),this.loop||null!=this._loops?(this._currentTime=n,this.updateFrameIndex(l),null===(e=this.onLoop)||void 0===e||e.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),null===(i=this.onComplete)||void 0===i||i.call(this),this.stop())):(this._currentTime=n,this.updateFrameIndex(l))}updateFrame(){if(!this.dirty)return;const{imageData:t}=this._frames[this._currentFrame];this._context.putImageData(t,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.source.update(),this.dirty=!1}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))}get currentFrame(){return this._currentFrame}set currentFrame(t){this.updateFrameIndex(t),this._currentTime=this._frames[t].start}updateFrameIndex(t){var e;if(t<0||t>=this._frames.length)throw new Error(`Frame index out of range, expecting 0 to ${this.totalFrames}, got ${t}`);this._currentFrame!==t&&(this._currentFrame=t,this.dirty=!0,null===(e=this.onFrameChange)||void 0===e||e.call(this,t))}get totalFrames(){return this._frames.length}destroy(){this.stop(),super.destroy(!0);const t=null;this._context=t,this._frames=t,this.onComplete=t,this.onFrameChange=t,this.onLoop=t}clone(){const t=new n([...this._frames],{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.source.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop});return t.dirty=!0,t}}e.AnimatedPNG=n,n.defaultOptions={scaleMode:"linear",fps:30,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null}},"./src/animatedPNGAsset.ts":
/*!*********************************!*\
  !*** ./src/animatedPNGAsset.ts ***!
  \*********************************/function(t,e,i){var r=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(s,a){function n(t){try{o(r.next(t))}catch(t){a(t)}}function l(t){try{o(r.throw(t))}catch(t){a(t)}}function o(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,l)}o((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.AnimatedPNGAsset=void 0;const s=i(/*! pixi.js */"pixi.js"),a=i(/*! ./animatedPNG */"./src/animatedPNG.ts"),n=(s.ExtensionType.LoadParser,{extension:s.ExtensionType.Asset,detection:{test:t=>r(void 0,void 0,void 0,(function*(){return!0})),add:t=>r(void 0,void 0,void 0,(function*(){return[...t,"apng"]})),remove:t=>r(void 0,void 0,void 0,(function*(){return t.filter((t=>"apng"!==t))}))},loader:{name:"aPngLoader",test:t=>".apng"===s.path.extname(t),load:(t,e)=>r(void 0,void 0,void 0,(function*(){const i=yield s.DOMAdapter.get().fetch(t);console.log(`response: ${JSON.stringify(i)}`);const r=yield i.arrayBuffer();return a.AnimatedPNG.fromBuffer(r,null==e?void 0:e.data)})),unload:t=>r(void 0,void 0,void 0,(function*(){t.destroy()}))}});e.AnimatedPNGAsset=n,s.extensions.add(n)},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/function(t,e,i){var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,s)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||r(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),s(i(/*! ./animatedPNG */"./src/animatedPNG.ts"),e),s(i(/*! ./animatedPNGAsset */"./src/animatedPNGAsset.ts"),e)},"./src/lib/upng.ts":
/*!*************************!*\
  !*** ./src/lib/upng.ts ***!
  \*************************/function(t,e,i){var r,s=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,s)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||(r=function(t){return r=Object.getOwnPropertyNames||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[e.length]=i);return e},r(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=r(t),n=0;n<i.length;n++)"default"!==i[n]&&s(e,t,i[n]);return a(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.uPng=function(t){let e=t.width,i=t.height;if(null==t.tabs.acTL)return[o.decodeImage(t.data,e,i,t).buffer];let r=[];null==t.frames[0].data&&(t.frames[0].data=t.data);let s,a=new Uint8Array(e*i*4);for(let n=0;n<t.frames.length;n++){let l=t.frames[n],d=l.rect.x,h=l.rect.y,_=l.rect.width,u=l.rect.height,c=o.decodeImage(l.data,_,u,t);if(0==n?s=c:0==l.blend?f(c,_,u,s,e,i,d,h,0):1==l.blend&&f(c,_,u,s,e,i,d,h,1),r.push(s.buffer),s=s.slice(0),0==l.dispose);else if(1==l.dispose)f(a,_,u,s,e,i,d,h,0);else if(2==l.dispose){let e=n-1;for(;2==t.frames[e].dispose;)e--;s=new Uint8Array(r[e]).slice(0)}}return r},e.decodeBuffer=function(t){let e,i=new Uint8Array(t),r=8,s=h,a=s.readUshort,n=s.readUint,l={tabs:{},frames:[],ctype:null,data:null,width:null,height:null,compress:null,interlace:null,filter:null},o=new Uint8Array(i.length),f=0,_=0,u=[137,80,78,71,13,10,26,10];for(let t=0;t<8;t++)if(i[t]!=u[t])throw"The input is not a PNG file!";for(;r<i.length;){let t=s.readUint(i,r);r+=4;let h=s.readASCII(i,r,4);if(r+=4,"IHDR"==h)d._IHDR(i,r,l);else if("IDAT"==h){for(let e=0;e<t;e++)o[f+e]=i[r+e];f+=t}else if("acTL"==h)l.tabs[h]={num_frames:n(i,r),num_plays:n(i,r+4)},e=new Uint8Array(i.length);else if("fcTL"==h){if(0!=_){let t=l.frames[l.frames.length-1];t.data=d._decompress(l,e.slice(0,_),t.rect.width,t.rect.height),_=0}let t={x:n(i,r+12),y:n(i,r+16),width:n(i,r+4),height:n(i,r+8)},s=a(i,r+22);s=a(i,r+20)/(0==s?100:s);let o={rect:t,delay:Math.round(1e3*s),dispose:i[r+24],blend:i[r+25]};l.frames.push(o)}else if("fdAT"==h){for(let s=0;s<t-4;s++)e[_+s]=i[r+s+4];_+=t-4}else if("pHYs"==h)l.tabs[h]=[s.readUint(i,r),s.readUint(i,r+4),i[r+8]];else if("cHRM"==h){l.tabs[h]=[];for(let t=0;t<8;t++)l.tabs[h].push(s.readUint(i,r+4*t))}else if("tEXt"==h){null==l.tabs[h]&&(l.tabs[h]={});let e=s.nextZero(i,r),a=s.readASCII(i,r,e-r),n=s.readASCII(i,e+1,r+t-e-1);l.tabs[h][a]=n}else if("iTXt"==h){null==l.tabs[h]&&(l.tabs[h]={});let e=0,a=r;e=s.nextZero(i,a);let n=s.readASCII(i,a,e-a);a=e+1;i[a],i[a+1];a+=2,e=s.nextZero(i,a);s.readASCII(i,a,e-a);a=e+1,e=s.nextZero(i,a);s.readUTF8(i,a,e-a);a=e+1;let o=s.readUTF8(i,a,t-(a-r));l.tabs[h][n]=o}else if("PLTE"==h)l.tabs[h]=s.readBytes(i,r,t);else if("hIST"==h){let t=l.tabs.PLTE.length/3;l.tabs[h]=[];for(let e=0;e<t;e++)l.tabs[h].push(a(i,r+2*e))}else if("tRNS"==h)3==l.ctype?l.tabs[h]=s.readBytes(i,r,t):0==l.ctype?l.tabs[h]=a(i,r):2==l.ctype&&(l.tabs[h]=[a(i,r),a(i,r+2),a(i,r+4)]);else if("gAMA"==h)l.tabs[h]=s.readUint(i,r)/1e5;else if("sRGB"==h)l.tabs[h]=i[r];else if("bKGD"==h)0==l.ctype||4==l.ctype?l.tabs[h]=[a(i,r)]:2==l.ctype||6==l.ctype?l.tabs[h]=[a(i,r),a(i,r+2),a(i,r+4)]:3==l.ctype&&(l.tabs[h]=i[r]);else if("IEND"==h)break;r+=t;s.readUint(i,r);r+=4}if(0!=_){let t=l.frames[l.frames.length-1];t.data=d._decompress(l,e.slice(0,_),t.rect.width,t.rect.height),_=0}return l.data=d._decompress(l,o,l.width,l.height),delete l.compress,delete l.interlace,delete l.filter,l},e.encodeBuffer=function(t,e,i,r,s,a){null==r&&(r=0);null==a&&(a=!1);let n=_.compress(t,e,i,r,!1,a);return _.compressPNG(n,-1),_._main(n,e,i,s)};const l=n(i(/*! pako */"./node_modules/pako/index.js"));Uint8Array&&!Uint8Array.prototype.slice&&(Uint8Array.prototype.slice=function(...t){return new Uint8Array(this).subarray(...t)});class o{static decodeImage(t,e,i,r){let s=e*i,a=d._getBPP(r),n=Math.ceil(e*a/8),l=new Uint8Array(4*s),o=new Uint32Array(l.buffer),f=r.ctype,_=r.depth,u=h.readUshort;if(6==f){let e=s<<2;if(8==_)for(let i=0;i<e;i++)l[i]=t[i];if(16==_)for(let i=0;i<e;i++)l[i]=t[i<<1]}else if(2==f){let e=r.tabs.tRNS,i=-1,a=-1,n=-1;if(e&&(i=e[0],a=e[1],n=e[2]),8==_)for(let e=0;e<s;e++){let r=e<<2,s=3*e;l[r]=t[s],l[r+1]=t[s+1],l[r+2]=t[s+2],l[r+3]=255,-1!=i&&t[s]==i&&t[s+1]==a&&t[s+2]==n&&(l[r+3]=0)}if(16==_)for(let e=0;e<s;e++){let r=e<<2,s=6*e;l[r]=t[s],l[r+1]=t[s+2],l[r+2]=t[s+4],l[r+3]=255,-1!=i&&u(t,s)==i&&u(t,s+2)==a&&u(t,s+4)==n&&(l[r+3]=0)}}else if(3==f){let a=r.tabs.PLTE,o=r.tabs.tRNS,d=o?o.length:0;if(1==_)for(let r=0;r<i;r++){let i=r*n,s=r*e;for(let r=0;r<e;r++){let e=s+r<<2,n=t[i+(r>>3)]>>7-(7&r)&1,h=3*n;l[e]=a[h],l[e+1]=a[h+1],l[e+2]=a[h+2],l[e+3]=n<d?o[n]:255}}if(2==_)for(let r=0;r<i;r++){let i=r*n,s=r*e;for(let r=0;r<e;r++){let e=s+r<<2,n=t[i+(r>>2)]>>6-((3&r)<<1)&3,h=3*n;l[e]=a[h],l[e+1]=a[h+1],l[e+2]=a[h+2],l[e+3]=n<d?o[n]:255}}if(4==_)for(let r=0;r<i;r++){let i=r*n,s=r*e;for(let r=0;r<e;r++){let e=s+r<<2,n=t[i+(r>>1)]>>4-((1&r)<<2)&15,h=3*n;l[e]=a[h],l[e+1]=a[h+1],l[e+2]=a[h+2],l[e+3]=n<d?o[n]:255}}if(8==_)for(let e=0;e<s;e++){let i=e<<2,r=t[e],s=3*r;l[i]=a[s],l[i+1]=a[s+1],l[i+2]=a[s+2],l[i+3]=r<d?o[r]:255}}else if(4==f){if(8==_)for(let e=0;e<s;e++){let i=e<<2,r=e<<1,s=t[r];l[i]=s,l[i+1]=s,l[i+2]=s,l[i+3]=t[r+1]}if(16==_)for(let e=0;e<s;e++){let i=e<<2,r=e<<2,s=t[r];l[i]=s,l[i+1]=s,l[i+2]=s,l[i+3]=t[r+2]}}else if(0==f){let e=r.tabs.tRNS?r.tabs.tRNS:-1;if(1==_)for(let i=0;i<s;i++){let r=255*(t[i>>3]>>7-(7&i)&1),s=r==255*e?0:255;o[i]=s<<24|r<<16|r<<8|r}if(2==_)for(let i=0;i<s;i++){let r=85*(t[i>>2]>>6-((3&i)<<1)&3),s=r==85*e?0:255;o[i]=s<<24|r<<16|r<<8|r}if(4==_)for(let i=0;i<s;i++){let r=17*(t[i>>1]>>4-((1&i)<<2)&15),s=r==17*e?0:255;o[i]=s<<24|r<<16|r<<8|r}if(8==_)for(let i=0;i<s;i++){let r=t[i],s=r==e?0:255;o[i]=s<<24|r<<16|r<<8|r}if(16==_)for(let i=0;i<s;i++){let r=t[i<<1],s=u(t,i<<1)==e?0:255;o[i]=s<<24|r<<16|r<<8|r}}return l}}class d{static _decompress(t,e,i,r){return 0==t.compress&&(e=d._inflate(e)),0==t.interlace?e=d._filterZero(e,t,0,i,r):1==t.interlace&&(e=d._readInterlace(e,t)),e}static _inflate(t){return l.inflate(t)}static _readInterlace(t,e){let i=e.width,r=e.height,s=d._getBPP(e),a=s>>3,n=Math.ceil(i*s/8),l=new Uint8Array(r*n),o=0,h=[0,0,4,0,2,0,1],f=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],u=[8,8,4,4,2,2,1],c=0;for(;c<7;){let p=_[c],m=u[c],b=0,g=0,w=h[c];for(;w<r;)w+=p,g++;let y=f[c];for(;y<i;)y+=m,b++;let k=Math.ceil(b*s/8);d._filterZero(t,e,o,b,g);let x=0,v=h[c];for(;v<r;){let e=f[c],r=o+x*k<<3;for(;e<i;){if(1==s){let i=t[r>>3];i=i>>7-(7&r)&1,l[v*n+(e>>3)]|=i<<7-(3&e)}if(2==s){let i=t[r>>3];i=i>>6-(7&r)&3,l[v*n+(e>>2)]|=i<<6-((3&e)<<1)}if(4==s){let i=t[r>>3];i=i>>4-(7&r)&15,l[v*n+(e>>1)]|=i<<4-((1&e)<<2)}if(s>=8){let i=v*n+e*a;for(let e=0;e<a;e++)l[i+e]=t[(r>>3)+e]}r+=s,e+=m}x++,v+=p}b*g!=0&&(o+=g*(1+k)),c+=1}return l}static _getBPP(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth}static _filterZero(t,e,i,r,s){let a=d._getBPP(e),n=Math.ceil(r*a/8),l=d._paeth;a=Math.ceil(a/8);for(let e=0;e<s;e++){let r=i+e*n,s=r+e+1,o=t[s-1];if(0==o)for(let e=0;e<n;e++)t[r+e]=t[s+e];else if(1==o){for(let e=0;e<a;e++)t[r+e]=t[s+e];for(let e=a;e<n;e++)t[r+e]=t[s+e]+t[r+e-a]&255}else if(0==e){for(let e=0;e<a;e++)t[r+e]=t[s+e];if(2==o)for(let e=a;e<n;e++)t[r+e]=255&t[s+e];if(3==o)for(let e=a;e<n;e++)t[r+e]=t[s+e]+(t[r+e-a]>>1)&255;if(4==o)for(let e=a;e<n;e++)t[r+e]=t[s+e]+l(t[r+e-a],0,0)&255}else{if(2==o)for(let e=0;e<n;e++)t[r+e]=t[s+e]+t[r+e-n]&255;if(3==o){for(let e=0;e<a;e++)t[r+e]=t[s+e]+(t[r+e-n]>>1)&255;for(let e=a;e<n;e++)t[r+e]=t[s+e]+(t[r+e-n]+t[r+e-a]>>1)&255}if(4==o){for(let e=0;e<a;e++)t[r+e]=t[s+e]+l(0,t[r+e-n],0)&255;for(let e=a;e<n;e++)t[r+e]=t[s+e]+l(t[r+e-a],t[r+e-n],t[r+e-a-n])&255}}}return t}static _paeth(t,e,i){let r=t+e-i,s=Math.abs(r-t),a=Math.abs(r-e),n=Math.abs(r-i);return s<=a&&s<=n?t:a<=n?e:i}static _IHDR(t,e,i){let r=h;i.width=r.readUint(t,e),e+=4,i.height=r.readUint(t,e),e+=4,i.depth=t[e],e++,i.ctype=t[e],e++,i.compress=t[e],e++,i.filter=t[e],e++,i.interlace=t[e],e++}}class h{static nextZero(t,e){for(;0!=t[e];)e++;return e}static readUshort(t,e){return t[e]<<8|t[e+1]}static writeUshort(t,e,i){t[e]=i>>8&255,t[e+1]=255&i}static readUint(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])}static writeUint(t,e,i){t[e]=i>>24&255,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i}static readASCII(t,e,i){let r="";for(let s=0;s<i;s++)r+=String.fromCharCode(t[e+s]);return r}static writeASCII(t,e,i){for(let r=0;r<i.length;r++)t[e+r]=i.charCodeAt(r)}static readBytes(t,e,i){let r=[];for(let s=0;s<i;s++)r.push(t[e+s]);return r}static pad(t){return t.length<2?"0"+t:t}static readUTF8(t,e,i){let r,s="";for(let r=0;r<i;r++)s+="%"+h.pad(t[e+r].toString(16));try{r=decodeURIComponent(s)}catch(r){return h.readASCII(t,e,i)}return r}}function f(t,e,i,r,s,a,n,l,o){let d=Math.min(e,s),h=Math.min(i,a),f=0,_=0;for(let i=0;i<h;i++)for(let a=0;a<d;a++)if(n>=0&&l>=0?(f=i*e+a<<2,_=(l+i)*s+n+a<<2):(f=(-l+i)*e-n+a<<2,_=i*s+a<<2),0==o)r[_]=t[f],r[_+1]=t[f+1],r[_+2]=t[f+2],r[_+3]=t[f+3];else if(1==o){let e=t[f+3]*(1/255),i=t[f]*e,s=t[f+1]*e,a=t[f+2]*e,n=r[_+3]*(1/255),l=r[_]*n,o=r[_+1]*n,d=r[_+2]*n,h=1-e,u=e+n*h,c=0==u?0:1/u;r[_+3]=255*u,r[_+0]=(i+l*h)*c,r[_+1]=(s+o*h)*c,r[_+2]=(a+d*h)*c}else if(2==o){let e=t[f+3],i=t[f],s=t[f+1],a=t[f+2],n=r[_+3],l=r[_],o=r[_+1],d=r[_+2];e==n&&i==l&&s==o&&a==d?(r[_]=0,r[_+1]=0,r[_+2]=0,r[_+3]=0):(r[_]=i,r[_+1]=s,r[_+2]=a,r[_+3]=e)}else if(3==o){let e=t[f+3],i=t[f],s=t[f+1],a=t[f+2],n=r[_+3],l=r[_],o=r[_+1],d=r[_+2];if(e==n&&i==l&&s==o&&a==d)continue;if(e<220&&n>20)return!1}return!0}class _{static _main(t,e,i,r){let s=u.crcFn,a=h.writeUint,n=h.writeUshort,l=h.writeASCII,o=8,d=t.frames.length>1,f=!1,_=46+(d?20:0);if(3==t.ctype){let e=t.plte.length;for(let i=0;i<e;i++)t.plte[i]>>>24!=255&&(f=!0);_+=8+3*e+4+(f?8+1*e+4:0)}for(let e=0;e<t.frames.length;e++){d&&(_+=38),_+=t.frames[e].cimg.length+12,0!=e&&(_+=4)}_+=12;let c=new Uint8Array(_),p=[137,80,78,71,13,10,26,10];for(let t=0;t<8;t++)c[t]=p[t];if(a(c,o,13),o+=4,l(c,o,"IHDR"),o+=4,a(c,o,e),o+=4,a(c,o,i),o+=4,c[o]=t.depth,o++,c[o]=t.ctype,o++,c[o]=0,o++,c[o]=0,o++,c[o]=0,o++,a(c,o,s(c,o-17,17)),o+=4,a(c,o,1),o+=4,l(c,o,"sRGB"),o+=4,c[o]=1,o++,a(c,o,s(c,o-5,5)),o+=4,d&&(a(c,o,8),o+=4,l(c,o,"acTL"),o+=4,a(c,o,t.frames.length),o+=4,a(c,o,0),o+=4,a(c,o,s(c,o-12,12)),o+=4),3==t.ctype){let e=t.plte.length;a(c,o,3*e),o+=4,l(c,o,"PLTE"),o+=4;for(let i=0;i<e;i++){let e=3*i,r=t.plte[i],s=255&r,a=r>>>8&255,n=r>>>16&255;c[o+e+0]=s,c[o+e+1]=a,c[o+e+2]=n}if(o+=3*e,a(c,o,s(c,o-3*e-4,3*e+4)),o+=4,f){a(c,o,e),o+=4,l(c,o,"tRNS"),o+=4;for(let i=0;i<e;i++)c[o+i]=t.plte[i]>>>24&255;o+=e,a(c,o,s(c,o-e-4,e+4)),o+=4}}let m=0;for(let e=0;e<t.frames.length;e++){let i=t.frames[e];d&&(a(c,o,26),o+=4,l(c,o,"fcTL"),o+=4,a(c,o,m++),o+=4,a(c,o,i.rect.width),o+=4,a(c,o,i.rect.height),o+=4,a(c,o,i.rect.x),o+=4,a(c,o,i.rect.y),o+=4,n(c,o,r[e]),o+=2,n(c,o,1e3),o+=2,c[o]=i.dispose,o++,c[o]=i.blend,o++,a(c,o,s(c,o-30,30)),o+=4);let h=i.cimg,f=h.length;a(c,o,f+(0==e?0:4)),o+=4;let _=o;l(c,o,0==e?"IDAT":"fdAT"),o+=4,0!=e&&(a(c,o,m++),o+=4);for(let t=0;t<f;t++)c[o+t]=h[t];o+=f,a(c,o,s(c,_,o-_)),o+=4}return a(c,o,0),o+=4,l(c,o,"IEND"),o+=4,a(c,o,s(c,o-4,4)),o+=4,c.buffer}static compressPNG(t,e){for(let i=0;i<t.frames.length;i++){let r=t.frames[i],s=(r.rect.width,r.rect.height),a=new Uint8Array(s*r.bpl+s);r.cimg=_._filterZero(r.img,s,r.bpp,r.bpl,a,e)}}static compress(t,e,i,r,s,a){null==a&&(a=!1);let n=6,l=8,o=255;for(let e=0;e<t.length;e++){let i=new Uint8Array(t[e]),r=i.length;for(let t=0;t<r;t+=4)o&=i[t+3]}let d=255!=o,h=d&&s,f=_.framize(t,e,i,s,h),u={},p=[],m=[];if(0!=r){let t=[];for(let e=0;e<f.length;e++)t.push(f[e].img.buffer);let e=_.concatRGBA(t,s),i=c.quantizeFN(e,r),a=0,n=new Uint8Array(i.abuf);for(let t=0;t<f.length;t++){let e=f[t].img,r=e.length;m.push(new Uint8Array(i.inds.buffer,a>>2,r>>2));for(let t=0;t<r;t+=4)e[t]=n[a+t],e[t+1]=n[a+t+1],e[t+2]=n[a+t+2],e[t+3]=n[a+t+3];a+=r}for(let t=0;t<i.plte.length;t++)p.push(i.plte[t].est.rgba)}else for(let t=0;t<f.length;t++){let e=f[t],i=new Uint32Array(e.img.buffer),r=e.rect.width,s=i.length,a=new Uint8Array(s);m.push(a);for(let t=0;t<s;t++){let e=i[t];if(0!=t&&e==i[t-1])a[t]=a[t-1];else if(t>r&&e==i[t-r])a[t]=a[t-r];else{let i=u[e];if(null==i&&(u[e]=i=p.length,p.push(e),p.length>=300))break;a[t]=i}}}let b=p.length;b<=256&&0==a&&(l=b<=2?1:b<=4?2:b<=16?4:8,s&&(l=8));for(let t=0;t<f.length;t++){let e=f[t],i=(e.rect.x,e.rect.y,e.rect.width),r=e.rect.height,s=e.img,o=(new Uint32Array(s.buffer),4*i),h=4;if(b<=256&&0==a){o=Math.ceil(l*i/8);let e=new Uint8Array(o*r),a=m[t];for(let t=0;t<r;t++){let r=t*o,s=t*i;if(8==l)for(let t=0;t<i;t++)e[r+t]=a[s+t];else if(4==l)for(let t=0;t<i;t++)e[r+(t>>1)]|=a[s+t]<<4-4*(1&t);else if(2==l)for(let t=0;t<i;t++)e[r+(t>>2)]|=a[s+t]<<6-2*(3&t);else if(1==l)for(let t=0;t<i;t++)e[r+(t>>3)]|=a[s+t]<<7-1*(7&t)}s=e,n=3,h=1}else if(0==d&&1==f.length){let t=new Uint8Array(i*r*3),e=i*r;for(let i=0;i<e;i++){let e=3*i,r=4*i;t[e]=s[r],t[e+1]=s[r+1],t[e+2]=s[r+2]}s=t,n=2,h=3,o=3*i}e.img=s,e.bpl=o,e.bpp=h}return{ctype:n,depth:l,plte:p,frames:f}}static framize(t,e,i,r,s){let a=[];for(let n=0;n<t.length;n++){let l=new Uint8Array(t[n]),o=new Uint32Array(l.buffer),d=0,h=0,_=e,u=i,c=0;if(0==n||s)l=l.slice(0);else{let s=r||1==n||2==a[a.length-2].dispose?1:2,p=0,m=1e9;for(let r=0;r<s;r++){new Uint8Array(t[n-1-r]);let s=new Uint32Array(t[n-1-r]),a=e,l=i,f=-1,c=-1;for(let t=0;t<i;t++)for(let i=0;i<e;i++){let r=t*e+i;o[r]!=s[r]&&(i<a&&(a=i),i>f&&(f=i),t<l&&(l=t),t>c&&(c=t))}let b=-1==f?1:(f-a+1)*(c-l+1);b<m&&(m=b,p=r,-1==f?(d=h=0,_=u=1):(d=a,h=l,_=f-a+1,u=c-l+1))}let b=new Uint8Array(t[n-1-p]);1==p&&(a[a.length-1].dispose=2);let g=new Uint8Array(_*u*4);new Uint32Array(g.buffer);f(b,e,i,g,_,u,-d,-h,0),f(l,e,i,g,_,u,-d,-h,3)?(f(l,e,i,g,_,u,-d,-h,2),c=1):(f(l,e,i,g,_,u,-d,-h,0),c=0),l=g}a.push({rect:{x:d,y:h,width:_,height:u},img:l,blend:c,dispose:s?1:0})}return a}static _filterZero(t,e,i,r,s,a){if(-1!=a){for(let n=0;n<e;n++)_._filterLine(s,t,n,r,i,a);return l.deflate(s)}let n=[];for(let a=0;a<5;a++)if(!(e*r>5e5)||2!=a&&3!=a&&4!=a){for(let n=0;n<e;n++)_._filterLine(s,t,n,r,i,a);if(n.push(l.deflate(s)),1==i)break}let o,d=1e9;for(let t=0;t<n.length;t++)n[t].length<d&&(o=t,d=n[t].length);return n[o]}static _filterLine(t,e,i,r,s,a){let n=i*r,l=n+i,o=d._paeth;if(t[l]=a,l++,0==a)for(let i=0;i<r;i++)t[l+i]=e[n+i];else if(1==a){for(let i=0;i<s;i++)t[l+i]=e[n+i];for(let i=s;i<r;i++)t[l+i]=e[n+i]-e[n+i-s]+256&255}else if(0==i){for(let i=0;i<s;i++)t[l+i]=e[n+i];if(2==a)for(let i=s;i<r;i++)t[l+i]=e[n+i];if(3==a)for(let i=s;i<r;i++)t[l+i]=e[n+i]-(e[n+i-s]>>1)+256&255;if(4==a)for(let i=s;i<r;i++)t[l+i]=e[n+i]-o(e[n+i-s],0,0)+256&255}else{if(2==a)for(let i=0;i<r;i++)t[l+i]=e[n+i]+256-e[n+i-r]&255;if(3==a){for(let i=0;i<s;i++)t[l+i]=e[n+i]+256-(e[n+i-r]>>1)&255;for(let i=s;i<r;i++)t[l+i]=e[n+i]+256-(e[n+i-r]+e[n+i-s]>>1)&255}if(4==a){for(let i=0;i<s;i++)t[l+i]=e[n+i]+256-o(0,e[n+i-r],0)&255;for(let i=s;i<r;i++)t[l+i]=e[n+i]+256-o(e[n+i-s],e[n+i-r],e[n+i-s-r])&255}}}static concatRGBA(t,e){let i=0;for(let e=0;e<t.length;e++)i+=t[e].byteLength;let r=new Uint8Array(i),s=0;for(let i=0;i<t.length;i++){let a=new Uint8Array(t[i]),n=a.length;for(let t=0;t<n;t+=4){let i=a[t],n=a[t+1],l=a[t+2],o=a[t+3];e&&(o=128&o?255:0),0==o&&(i=n=l=0),r[s+t]=i,r[s+t+1]=n,r[s+t+2]=l,r[s+t+3]=o}s+=n}return r.buffer}}class u{static crcFn(t,e,i){return 4294967295^u.update(4294967295,t,e,i)}static table(){let t=new Uint32Array(256);for(let e=0;e<256;e++){let i=e;for(let t=0;t<8;t++)1&i?i=3988292384^i>>>1:i>>>=1;t[e]=i}return t}static update(t,e,i,r){for(let s=0;s<r;s++)t=u.table[255&(t^e[i+s])]^t>>>8;return t}}class c{static quantizeFN(t,e){let i=new Uint8Array(t),r=i.slice(0),s=new Uint32Array(r.buffer),a=c.getKDtree(r,e),{root:n,leafs:l}=a,o=(c.planeDst,i),d=s,h=o.length,f=new Uint8Array(i.length>>2);for(let t=0;t<h;t+=4){let e=o[t]*(1/255),i=o[t+1]*(1/255),r=o[t+2]*(1/255),s=o[t+3]*(1/255),a=c.getNearest(n,e,i,r,s);f[t>>2]=a.ind,d[t>>2]=a.est.rgba}return{abuf:r.buffer,inds:f,plte:l}}static getKDtree(t,e,i){null==i&&(i=1e-4);let r=new Uint32Array(t.buffer),s={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null,ind:null};s.bst=c.stats(t,s.i0,s.i1),s.est=c.estats(s.bst);let a=[s];for(;a.length<e;){let e=0,s=0;for(let t=0;t<a.length;t++)a[t].est.L>e&&(e=a[t].est.L,s=t);if(e<i)break;let n=a[s],l=c.splitPixels(t,r,n.i0,n.i1,n.est.e,n.est.eMq255);if(n.i0>=l||n.i1<=l){n.est.L=0;continue}let o={i0:n.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null,ind:null};o.bst=c.stats(t,o.i0,o.i1),o.est=c.estats(o.bst);let d={i0:l,i1:n.i1,bst:null,est:null,tdst:0,left:null,right:null,ind:null};d.bst={R:[],m:[],N:n.bst.N-o.bst.N};for(let t=0;t<16;t++)d.bst.R[t]=n.bst.R[t]-o.bst.R[t];for(let t=0;t<4;t++)d.bst.m[t]=n.bst.m[t]-o.bst.m[t];d.est=c.estats(d.bst),n.left=o,n.right=d,a[s]=o,a.push(d)}a.sort((function(t,e){return e.bst.N-t.bst.N}));for(let t=0;t<a.length;t++)a[t].ind=t;return{root:s,leafs:a}}static getNearest(t,e,i,r,s){if(null==t.left)return t.tdst=c.dist(t.est.q,e,i,r,s),t;let a=c.planeDst(t.est,e,i,r,s),n=t.left,l=t.right;a>0&&(n=t.right,l=t.left);let o=c.getNearest(n,e,i,r,s);if(o.tdst<=a*a)return o;let d=c.getNearest(l,e,i,r,s);return d.tdst<o.tdst?d:o}static planeDst(t,e,i,r,s){let a=t.e;return a[0]*e+a[1]*i+a[2]*r+a[3]*s-t.eMq}static dist(t,e,i,r,s){let a=e-t[0],n=i-t[1],l=r-t[2],o=s-t[3];return a*a+n*n+l*l+o*o}static splitPixels(t,e,i,r,s,a){let n=c.vecDot;r-=4;for(;i<r;){for(;n(t,i,s)<=a;)i+=4;for(;n(t,r,s)>a;)r-=4;if(i>=r)break;let l=e[i>>2];e[i>>2]=e[r>>2],e[r>>2]=l,i+=4,r-=4}for(;n(t,i,s)>a;)i-=4;return i+4}static vecDot(t,e,i){return t[e]*i[0]+t[e+1]*i[1]+t[e+2]*i[2]+t[e+3]*i[3]}static stats(t,e,i){let r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0],a=i-e>>2;for(let a=e;a<i;a+=4){let e=t[a]*(1/255),i=t[a+1]*(1/255),n=t[a+2]*(1/255),l=t[a+3]*(1/255);s[0]+=e,s[1]+=i,s[2]+=n,s[3]+=l,r[0]+=e*e,r[1]+=e*i,r[2]+=e*n,r[3]+=e*l,r[5]+=i*i,r[6]+=i*n,r[7]+=i*l,r[10]+=n*n,r[11]+=n*l,r[15]+=l*l}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:s,N:a}}static estats(t){let e=t.R,i=t.m,r=t.N,s=i[0],a=i[1],n=i[2],l=i[3],o=0==r?0:1/r,d=[e[0]-s*s*o,e[1]-s*a*o,e[2]-s*n*o,e[3]-s*l*o,e[4]-a*s*o,e[5]-a*a*o,e[6]-a*n*o,e[7]-a*l*o,e[8]-n*s*o,e[9]-n*a*o,e[10]-n*n*o,e[11]-n*l*o,e[12]-l*s*o,e[13]-l*a*o,e[14]-l*n*o,e[15]-l*l*o],h=d,f=p,_=[.5,.5,.5,.5],u=0,c=0;if(0!=r)for(let t=0;t<10&&(_=f.multVec(h,_),c=Math.sqrt(f.dot(_,_)),_=f.sml(1/c,_),!(Math.abs(c-u)<1e-9));t++)u=c;let m=[s*o,a*o,n*o,l*o];return{Cov:d,q:m,e:_,L:u,eMq255:f.dot(f.sml(255,m),_),eMq:f.dot(_,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0]))>>>0}}}class p{static multVec(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]}static dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}static sml(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}}},"pixi.js":
/*!**************************!*\
  !*** external "pixi.js" ***!
  \**************************/e=>{e.exports=t}},i={};var r=function t(r){var s=i[r];if(void 0!==s)return s.exports;var a=i[r]={exports:{}};return e[r].call(a.exports,a,a.exports,t),a.exports}("./src/index.ts");return r})()));
//# sourceMappingURL=pixiApng.js.map